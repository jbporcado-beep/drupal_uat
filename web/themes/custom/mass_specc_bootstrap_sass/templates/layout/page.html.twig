{#
  Custom page template extending Barrio.
  Adds:
    - main_header region
    - sticky_left_nav region (only for non-admins)
#}

{% extends "@bootstrap_barrio/layout/page.html.twig" %}

{% block head %}
  {{ parent() }}
  {% if page.main_header %}
    <header class="main-header">
      <div class="header-logo">
        <a href="{{ base_path }}">
          <img src="{{ base_path ~ 'sites/default/files/logo.png' }}" alt="{{ 'Site Logo'|t }}">
        </a>
      </div>
      <div class="header-content">
        {{ page.main_header }}
      </div>
    </header>
  {% endif %}
{% endblock %}

{% block content %}
  <div id="main">
    {% if page.breadcrumb %}
      {{ page.breadcrumb }}
    {% endif %}

    <div class="layout-flex">

      {% if page.sticky_left_nav and not is_admin %}
        <aside class="sticky-left-nav" role="complementary">
          {{ page.sticky_left_nav }}
        </aside>
      {% endif %}

      <main class="main-content" id="content" role="main">
        <section class="section">
          <a href="#main-content" id="main-content" tabindex="-1"></a>

          <div data-drupal-messages-fallback class="hidden"></div>

          {% if page.primary_local_tasks %}
            <nav class="tabs" role="navigation" aria-label="{{ 'Tabs'|t }}">
              {{ page.primary_local_tasks }}
            </nav>
          {% endif %}

          {% if page.secondary_local_tasks %}
            <nav class="tabs--secondary" role="navigation" aria-label="{{ 'Secondary tabs'|t }}">
              {{ page.secondary_local_tasks }}
            </nav>
          {% endif %}

          {{ page.content }}
          {% if page.content_bottom %}
            <div class="content-bottom">
              {{ page.content_bottom }}
            </div>
          {% endif %}
        </section>
      </main>
    </div>
  </div>
{% endblock %}
